<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">

<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
	xmlns:g='urn:import:com.google.gwt.user.client.ui'
	xmlns:w='urn:import:com.fave100.client.widgets'
	xmlns:p='urn:import:com.fave100.client.pages'
	xmlns:pf='urn:import:com.fave100.client.pagefragments.footer'
	ui:generateFormat='com.google.gwt.i18n.rebind.format.PropertiesFormat'
	ui:generateKeys='com.google.gwt.i18n.rebind.keygen.MD5KeyGenerator'
	ui:generateLocales='default'>

	<ui:style src="../../../client/resources/css/global.css" type="com.fave100.client.resources.css.GlobalStyle">
		.pageTitle {
			margin: 10px;
			text-align: center;
		}
		
		.formStatusMessage {
			display: inline-block;
			margin-left: 10px;
		}
		
		.avatarImg {
			width: 80px;
			height: 80px;
		}
	</ui:style>
		
	<ui:with type="com.fave100.client.place.NameTokens" field="nameTokens"/>
	
	<p:Page ui:field="page">
		<p:content>			
			<g:HTMLPanel>
			
				<h2 class="{style.pageTitle}">Profile</h2>
				
				<g:HTMLPanel styleName="registerContainer profileForm">
							
					<g:Label>Email</g:Label>					
					<w:FaveTextBox  ui:field="emailInput"/>
					<g:Label styleName="error inputStatusMessage" ui:field="emailStatusMessage"/>
					<g:Hyperlink targetHistoryToken="{nameTokens.getPasswordreset}">Change your password</g:Hyperlink>
					<h4>Privacy</h4>
					<g:InlineLabel>Hide users that you are following:</g:InlineLabel>
					<g:CheckBox ui:field="followingPrivate"/>
					<br/>
					
					<g:Button ui:field="profileSaveButton">Save</g:Button>
					
					<g:FormPanel method="POST" encoding="multipart/form-data" ui:field="profileForm">
						<g:HTMLPanel>						
							<g:Label>Avatar</g:Label>
							<g:Image ui:field="avatarImg" ui:styleName="{style.avatarImg}"/>
							<g:FileUpload ui:field="avatarUpload" name="avatar" />
							<g:SubmitButton ui:field="avatarSubmitButton">Upload</g:SubmitButton>
							<g:Label ui:field="formStatusMessage" ui:styleName="{style.formStatusMessage}"/>
						</g:HTMLPanel>
					</g:FormPanel>
					
				</g:HTMLPanel>	
				
			</g:HTMLPanel>
		</p:content>		
	</p:Page>
	
</ui:UiBinder>
